\documentclass[tikz]{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}
\begin{tikzpicture}
\begin{axis}[
    width=12cm,
    height=8cm,
    xlabel={Total Communication (MB, fp32)},
    ymin=0.94,
    ymax=0.965,
    grid=both,
    ylabel={Best Micro-F1},
    legend pos=south east
]
  \addplot+[mark=none, very thick] table[
      x=commMB_cum_fp32,
      y=best_microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{1:1}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=1}

  \addplot+[mark=none, very thick, dashed] table[
      x=commMB_cum_fp32,
      y=best_microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{2:2}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=2}

  \addplot+[mark=none, very thick, dotted] table[
      x=commMB_cum_fp32,
      y=best_microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{4:4}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=4}

  \addplot+[mark=none, very thick, dashdotted] table[
      x=commMB_cum_fp32,
      y=best_microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{8:8}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=8}

  \addplot+[mark=none, very thick, densely dashdotdotted] table[
      x=commMB_cum_fp32,
      y=best_microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{16:16}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=16}
\end{axis}
\end{tikzpicture}
\end{document}
