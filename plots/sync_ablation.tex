\documentclass[tikz]{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}
\begin{tikzpicture}
\begin{axis}[
    width=12cm,
    height=8cm,
    xlabel={Effective Global Steps},
    ylabel={Micro-F1},
    ymin=0.94,
    ymax=0.97,
    grid=both,
    legend pos=south east,
    title={Reddit Sync Ablation}
]
  \addplot+[mark=none, very thick] table[
      x=effective_global_steps,
      y=microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{1:1}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=1}

  \addplot+[mark=none, very thick, dashed] table[
      x=effective_global_steps,
      y=microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{2:2}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=2}

  \addplot+[mark=none, very thick, dotted] table[
      x=effective_global_steps,
      y=microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{4:4}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=4}

  \addplot+[mark=none, very thick, dashdotted] table[
      x=effective_global_steps,
      y=microF1,
      col sep=comma,
      restrict expr to domain={\thisrow{sync_every}}{8:8}
  ] {../results/metrics.csv};
  \addlegendentry{sync\_every=8}
\end{axis}
\end{tikzpicture}
\end{document}
